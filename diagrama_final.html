<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagramas de Atividade - Sistema Tutorando</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            padding: 12px 24px;
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
        }
        
        .nav-btn.active {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }
        
        .diagram-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.05);
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .diagram {
            display: none;
            width: 100%;
        }
        
        .diagram.active {
            display: block;
        }
        
        .mermaid {
            display: flex;
            justify-content: center;
        }
        
        .loading {
            text-align: center;
            color: #7f8c8d;
            font-size: 18px;
        }
        
        .diagram-title {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5em;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä Diagramas de Atividade - Sistema Tutorando</h1>
        
        <div class="nav-buttons">
            <button class="nav-btn active" onclick="showDiagram('principal')">üè† Fluxo Principal</button>
            <button class="nav-btn" onclick="showDiagram('registro')">üìù Registro de Usu√°rio</button>
            <button class="nav-btn" onclick="showDiagram('aprovacao')">‚úÖ Aprova√ß√£o de Conte√∫do</button>
            <button class="nav-btn" onclick="showDiagram('projeto')">üöÄ Cria√ß√£o de Projeto</button>
            <button class="nav-btn" onclick="showDiagram('busca')">üîç Busca de Tutor</button>
        </div>
        
        <div class="diagram-container">
            <!-- Diagrama Principal -->
            <div id="principal" class="diagram active">
                <div class="diagram-title">Fluxo Principal do Sistema</div>
                <div class="mermaid">
                    flowchart TD
                        A[üë§ Usu√°rio Acessa Sistema] --> B{üîê Usu√°rio Autenticado?}
                        B -->|N√£o| C[üìù Tela de Login/Registro]
                        B -->|Sim| D{üë• Tipo de Usu√°rio?}
                        
                        C --> E[üîë Login/Registro]
                        E --> F{‚úÖ Credenciais V√°lidas?}
                        F -->|N√£o| C
                        F -->|Sim| D
                        
                        D -->|Admin| G[‚öôÔ∏è Dashboard Admin]
                        D -->|Tutor| H[üë®‚Äçüè´ Dashboard Tutor]
                        D -->|Tutorando| I[üë®‚Äçüéì Dashboard Tutorando]
                        
                        G --> J[üìä Gerenciar Sistema]
                        J --> K[‚úÖ Aprovar Conte√∫do]
                        J --> L[üè´ Gerenciar Institui√ß√µes]
                        J --> M[üë• Gerenciar Usu√°rios]
                        
                        H --> N[üìö Criar/Gerenciar Projetos]
                        H --> O[üìù Criar Publica√ß√µes]
                        H --> P[üí¨ Responder Mensagens]
                        
                        I --> Q[üîç Buscar Tutores]
                        I --> R[üì© Enviar Mensagens]
                        I --> S[üìö Ver Projetos Dispon√≠veis]
                        
                        K --> T[üîÑ Sistema Atualizado]
                        L --> T
                        M --> T
                        N --> T
                        O --> T
                        P --> T
                        Q --> T
                        R --> T
                        S --> T
                        
                        T --> U[üè† Retornar ao Dashboard]
                        U --> D
                </div>
            </div>
            
            <!-- Diagrama de Registro -->
            <div id="registro" class="diagram">
                <div class="diagram-title">Processo de Registro de Usu√°rio</div>
                <div class="mermaid">
                    flowchart TD
                        A[üë§ Novo Usu√°rio] --> B[üìù Acessar Formul√°rio de Registro]
                        B --> C[‚úçÔ∏è Preencher Dados B√°sicos]
                        C --> D[üë• Selecionar Tipo de Usu√°rio]
                        
                        D --> E{üîç Tipo Selecionado?}
                        E -->|Tutor| F[üë®‚Äçüè´ Preencher Dados de Tutor]
                        E -->|Tutorando| G[üë®‚Äçüéì Preencher Dados de Tutorando]
                        
                        F --> H[üìã Especialidades e Experi√™ncia]
                        G --> I[üéØ √Åreas de Interesse]
                        
                        H --> J[üì§ Enviar Solicita√ß√£o]
                        I --> J
                        
                        J --> K{‚úÖ Dados V√°lidos?}
                        K -->|N√£o| L[‚ùå Mostrar Erros]
                        L --> C
                        
                        K -->|Sim| M[üíæ Criar Conta]
                        M --> N[üìß Enviar Email de Confirma√ß√£o]
                        N --> O[‚è≥ Aguardar Confirma√ß√£o]
                        
                        O --> P{üì® Email Confirmado?}
                        P -->|N√£o| Q[‚è∞ Timeout/Reenvio]
                        Q --> N
                        
                        P -->|Sim| R{üë• Tipo de Usu√°rio?}
                        R -->|Tutor| S[‚è≥ Status: Pendente Aprova√ß√£o]
                        R -->|Tutorando| T[‚úÖ Status: Ativo]
                        
                        S --> U[üìß Notificar Admin]
                        T --> V[üîë Login Liberado]
                        U --> V
                        V --> W[üè† Acessar Dashboard]
                </div>
            </div>
            
            <!-- Diagrama de Aprova√ß√£o -->
            <div id="aprovacao" class="diagram">
                <div class="diagram-title">Fluxo de Aprova√ß√£o de Conte√∫do</div>
                <div class="mermaid">
                    flowchart TD
                        A[‚öôÔ∏è Admin no Dashboard] --> B[üìã Ver Itens Pendentes]
                        B --> C{üìù H√° Conte√∫do Pendente?}
                        
                        C -->|N√£o| D[‚ú® Nenhum Item Pendente]
                        C -->|Sim| E[üëÄ Revisar Item]
                        
                        E --> F{üîç Tipo de Item?}
                        F -->|Tutor| G[üë®‚Äçüè´ Revisar Perfil do Tutor]
                        F -->|Projeto| H[üìö Revisar Projeto]
                        F -->|Publica√ß√£o| I[üìù Revisar Publica√ß√£o]
                        
                        G --> J[üîç Verificar Qualifica√ß√µes]
                        H --> K[üìñ Verificar Conte√∫do]
                        I --> L[üìÑ Verificar Texto]
                        
                        J --> M{‚úÖ Decis√£o?}
                        K --> M
                        L --> M
                        
                        M -->|Aprovar| N[‚úÖ Marcar como Aprovado]
                        M -->|Rejeitar| O[‚ùå Marcar como Rejeitado]
                        M -->|Solicitar Revis√£o| P[üîÑ Solicitar Altera√ß√µes]
                        
                        N --> Q[üìß Notificar Usu√°rio - Aprovado]
                        O --> R[üìß Notificar Usu√°rio - Rejeitado]
                        P --> S[üìß Notificar Usu√°rio - Revis√£o]
                        
                        Q --> T[üíæ Atualizar Status no Sistema]
                        R --> T
                        S --> T
                        
                        T --> U[üìä Atualizar Dashboard]
                        U --> B
                        
                        D --> V[üîÑ Verificar Novamente Mais Tarde]
                        V --> B
                </div>
            </div>
            
            <!-- Diagrama de Projeto -->
            <div id="projeto" class="diagram">
                <div class="diagram-title">Cria√ß√£o de Projeto</div>
                <div class="mermaid">
                    flowchart TD
                        A[üë®‚Äçüè´ Tutor Logado] --> B[üöÄ Acessar Cria√ß√£o de Projeto]
                        B --> C[üìù Preencher Formul√°rio]
                        
                        C --> D[üìã Informa√ß√µes B√°sicas]
                        D --> E[üìñ T√≠tulo e Descri√ß√£o]
                        E --> F[üéØ Categoria e Tags]
                        F --> G[‚è∞ Dura√ß√£o e Cronograma]
                        G --> H[üí∞ Pre√ßo (se aplic√°vel)]
                        H --> I[üìé Anexar Materiais]
                        
                        I --> J[üëÄ Revisar Informa√ß√µes]
                        J --> K{‚úÖ Dados Corretos?}
                        
                        K -->|N√£o| L[‚úèÔ∏è Editar Informa√ß√µes]
                        L --> C
                        
                        K -->|Sim| M[üì§ Submeter Projeto]
                        M --> N{üîç Valida√ß√£o Sistema?}
                        
                        N -->|Erro| O[‚ùå Mostrar Erros]
                        O --> C
                        
                        N -->|Sucesso| P[üíæ Salvar no Banco]
                        P --> Q[‚è≥ Status: Pendente Aprova√ß√£o]
                        Q --> R[üìß Notificar Admin]
                        
                        R --> S[‚úÖ Confirma√ß√£o para Tutor]
                        S --> T[üìä Retornar ao Dashboard]
                        
                        T --> U[üëÅÔ∏è Acompanhar Status]
                        U --> V{üìã Status Atual?}
                        
                        V -->|Pendente| W[‚è≥ Aguardar Aprova√ß√£o]
                        V -->|Aprovado| X[üéâ Projeto Ativo]
                        V -->|Rejeitado| Y[‚ùå Revisar e Resubmeter]
                        
                        W --> Z[üîÑ Verificar Status Novamente]
                        Z --> V
                        
                        X --> AA[üë• Dispon√≠vel para Tutorandos]
                        Y --> L
                </div>
            </div>
            
            <!-- Diagrama de Busca -->
            <div id="busca" class="diagram">
                <div class="diagram-title">Busca e Contato com Tutor</div>
                <div class="mermaid">
                    flowchart TD
                        A[üë®‚Äçüéì Tutorando Logado] --> B[üîç Acessar Busca de Tutores]
                        B --> C[üéØ Definir Crit√©rios de Busca]
                        
                        C --> D[üìö √Årea de Conhecimento]
                        D --> E[üìç Localiza√ß√£o/Modalidade]
                        E --> F[üí∞ Faixa de Pre√ßo]
                        F --> G[‚≠ê Avalia√ß√£o M√≠nima]
                        G --> H[‚è∞ Disponibilidade]
                        
                        H --> I[üîç Executar Busca]
                        I --> J{üìã Resultados Encontrados?}
                        
                        J -->|N√£o| K[üòû Nenhum Tutor Encontrado]
                        K --> L[üîÑ Refinar Crit√©rios]
                        L --> C
                        
                        J -->|Sim| M[üìä Exibir Lista de Tutores]
                        M --> N[üëÄ Visualizar Perfis]
                        
                        N --> O{üí° Tutor de Interesse?}
                        O -->|N√£o| P[‚û°Ô∏è Ver Pr√≥ximo Tutor]
                        P --> N
                        
                        O -->|Sim| Q[üìñ Ver Perfil Completo]
                        Q --> R[üìö Ver Projetos do Tutor]
                        R --> S[‚≠ê Ver Avalia√ß√µes]
                        
                        S --> T{üìû Deseja Contatar?}
                        T -->|N√£o| U[‚¨ÖÔ∏è Voltar √† Lista]
                        U --> M
                        
                        T -->|Sim| V[‚úçÔ∏è Escrever Mensagem]
                        V --> W[üì§ Enviar Mensagem]
                        
                        W --> X{‚úÖ Mensagem Enviada?}
                        X -->|Erro| Y[‚ùå Erro no Envio]
                        Y --> V
                        
                        X -->|Sucesso| Z[üìß Notificar Tutor]
                        Z --> AA[‚úÖ Confirma√ß√£o para Tutorando]
                        AA --> BB[‚è≥ Aguardar Resposta do Tutor]
                        
                        BB --> CC{üì® Tutor Respondeu?}
                        CC -->|N√£o| DD[‚è∞ Timeout/Lembrete]
                        DD --> BB
                        
                        CC -->|Sim| EE[üí¨ Iniciar Conversa]
                        EE --> FF[ü§ù Negociar Detalhes]
                        FF --> GG[‚úÖ Acordo Fechado]
                </div>
            </div>
        </div>
    </div>

    <script>
        // Inicializa√ß√£o do Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#3498db',
                primaryTextColor: '#2c3e50',
                primaryBorderColor: '#2980b9',
                lineColor: '#34495e',
                sectionBkgColor: '#ecf0f1',
                altSectionBkgColor: '#bdc3c7',
                gridColor: '#95a5a6',
                secondaryColor: '#e74c3c',
                tertiaryColor: '#f39c12'
            },
            flowchart: {
                htmlLabels: true,
                curve: 'basis',
                padding: 20
            },
            securityLevel: 'loose'
        });

        function showDiagram(diagramId) {
            // Esconder todos os diagramas
            const diagrams = document.querySelectorAll('.diagram');
            diagrams.forEach(diagram => diagram.classList.remove('active'));
            
            // Remover classe active de todos os bot√µes
            const buttons = document.querySelectorAll('.nav-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Mostrar diagrama selecionado
            document.getElementById(diagramId).classList.add('active');
            
            // Ativar bot√£o correspondente
            event.target.classList.add('active');
            
            // Re-renderizar o Mermaid para o diagrama ativo
            setTimeout(() => {
                mermaid.init(undefined, `#${diagramId} .mermaid`);
            }, 100);
        }

        // Inicializa√ß√£o quando a p√°gina carrega
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                mermaid.init();
            }, 500);
        });
    </script>
</body>
</html>
